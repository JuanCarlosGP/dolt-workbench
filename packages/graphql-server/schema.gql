# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type ColConstraint {
  notNull: Boolean!
}

type Column {
  name: String!
  isPrimaryKey: Boolean!
  type: String!
  constraints: [ColConstraint!]
}

type ForeignKeyColumn {
  referencedColumnName: String!
  referrerColumnIndex: Float!
}

type ForeignKey {
  tableName: String!
  columnName: String!
  referencedTableName: String!
  foreignKeyColumn: [ForeignKeyColumn!]!
}

type IndexColumn {
  name: String!
  sqlType: String
}

type Index {
  name: String!
  type: String!
  comment: String!
  columns: [IndexColumn!]!
}

type Table {
  _id: ID!
  databaseName: String!
  refName: String!
  tableName: String!
  columns: [Column!]!
  foreignKeys: [ForeignKey!]!
  indexes: [Index!]!
}

type TableNames {
  list: [String!]!
}

type Branch {
  _id: ID!
  databaseName: String!
  branchName: String!
  lastCommitter: String!
  lastUpdated: Timestamp!
  table(tableName: String!): Table
  tableNames(filterSystemTables: Boolean): [String!]!
  head: String
}

"""
`Date` type as integer. Type represents date and time as number of milliseconds from start of UNIX epoch.
"""
scalar Timestamp

type BranchNamesList {
  list: [Branch!]!
}

type DoltWriter {
  _id: ID!
  displayName: String!
  emailAddress: String!
  username: String
}

type Commit {
  _id: ID!
  commitId: String!
  databaseName: String!
  message: String!
  committedAt: Timestamp!
  committer: DoltWriter!
  parents: [String!]!
}

type CommitList {
  nextOffset: Int
  list: [Commit!]!
}

type DoltDatabaseDetails {
  isDolt: Boolean!
  hideDoltFeatures: Boolean!
}

type ColumnValue {
  displayValue: String!
}

type Row {
  columnValues: [ColumnValue!]!
}

type RowList {
  nextOffset: Int
  list: [Row!]!
}

type Doc {
  docType: String!
  docRow: Row
  branchName: String!
}

type DocList {
  list: [Doc!]!
}

type SqlSelect {
  _id: ID!
  databaseName: String!
  refName: String!
  queryString: String!
  columns: [Column!]!
  rows: [Row!]!
  queryExecutionStatus: QueryExecutionStatus!
  queryExecutionMessage: String!
}

enum QueryExecutionStatus {
  Success
  Error
  Timeout
  RowLimit
}

type Status {
  _id: ID!
  refName: String!
  tableName: String!
  staged: Boolean!
  status: String!
}

type Tag {
  _id: ID!
  tagName: String!
  databaseName: String!
  message: String!
  taggedAt: Timestamp!
  tagger: DoltWriter!
  commitId: String!
}

type TagList {
  list: [Tag!]!
}

type Query {
  branch(databaseName: String!, branchName: String!): Branch
  branchOrDefault(databaseName: String!, branchName: String): Branch
  branches(databaseName: String!, sortBy: SortBranchesBy): BranchNamesList!
  defaultBranch(databaseName: String!): Branch
  commits(offset: Int, databaseName: String!, refName: String!): CommitList!
  currentDatabase: String
  hasDatabaseEnv: Boolean!
  databases: [String!]!
  doltDatabaseDetails: DoltDatabaseDetails!
  docs(databaseName: String!, refName: String!): DocList!
  docOrDefaultDoc(refName: String!, databaseName: String!, docType: DocType): Doc
  rows(refName: String!, databaseName: String!, tableName: String!, offset: Int): RowList!
  views(databaseName: String!, refName: String!): RowList!
  sqlSelect(refName: String!, databaseName: String!, queryString: String!): SqlSelect!
  sqlSelectForCsvDownload(refName: String!, databaseName: String!, queryString: String!): String!
  status(databaseName: String!, refName: String!): [Status!]!
  table(refName: String!, databaseName: String!, tableName: String!): Table!
  tableNames(refName: String!, databaseName: String!, filterSystemTables: Boolean): TableNames!
  tables(refName: String!, databaseName: String!, filterSystemTables: Boolean): [Table!]!
  tags(databaseName: String!): TagList!
  tag(databaseName: String!, tagName: String!): Tag
}

enum SortBranchesBy {
  Unspecified
  LastUpdated
}

enum DocType {
  Unspecified
  Readme
  License
}

type Mutation {
  createBranch(databaseName: String!, newBranchName: String!, fromRefName: String!): Branch!
  deleteBranch(databaseName: String!, branchName: String!): Boolean!
  addDatabaseConnection(url: String, useEnv: Boolean): String!
  createDatabase(databaseName: String!): Boolean!
  loadDataFile(tableName: String!, refName: String!, databaseName: String!, importOp: ImportOperation!, fileType: FileType!, file: Upload!, modifier: LoadDataModifier): Boolean!
  createTag(tagName: String!, databaseName: String!, message: String, fromRefName: String!): Tag!
  deleteTag(databaseName: String!, tagName: String!): Boolean!
}

enum ImportOperation {
  Update
}

enum FileType {
  Csv
  Psv
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

enum LoadDataModifier {
  Ignore
  Replace
}